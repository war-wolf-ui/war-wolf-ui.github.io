webpackJsonp([2],{"3gbn":function(n,t,e){n.exports=e.p+"static/img/tim2.bcfd469.png"},BYE8:function(n,t,e){n.exports=e.p+"static/img/tim4.370f301.png"},NWnD:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("XBR5"),s={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"wl-txtlinkhref"},[e("div",{staticClass:"h-headtitle"},[n._v("腾讯IM客服（uniapp集成）")]),n._v(" "),n._m(0),n._v(" "),n._m(1),n._v(" "),n._m(2),n._v(" "),e("div",{staticClass:"h-blocks"},[e("div",{staticClass:"h-title"},[n._v("3.下载并引入 TUIKit")]),n._v(" "),e("div",{staticClass:"hb-a"},[e("p",[n._v("通过 npm 方式下载 TUIKit 并集成组件。有2种集成方案，主包集成（不推荐），分包集成（推荐）。")]),n._v(" "),n._m(3),n._v(" "),e("p",[n._v("a.npm下载。")]),n._v(" "),e("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[n._m(4)]),n._v(" "),e("p",[n._v("App.vue文件")]),n._v(" "),e("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[n._m(5)]),n._v(" "),e("p",[n._v("pages.json文件")]),n._v(" "),e("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[n._m(6)]),n._v(" "),e("p",[n._v("成功后目录结构如图所示：")]),n._v(" "),n._m(7)])]),n._v(" "),n._m(8)])},staticRenderFns:[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"h-blocks"},[t("div",{staticClass:"h-title"},[this._v("介绍")]),this._v(" "),t("div",{staticClass:"h-main"},[this._v("\n            引用腾讯IM客服即TUIKit，是基于腾讯云 IM SDK 的一款 UI 组件库，它提供了一些通用的 UI 组件，包含会话、聊天、群组、音视频通话等功能。\n        ")]),this._v(" "),t("img",{attrs:{src:e("Tzhe"),width:"1000"}})])},function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"h-blocks"},[e("div",{staticClass:"h-title"},[n._v("1.开发环境要求")]),n._v(" "),e("div",{staticClass:"hb-a"},[e("p",[n._v("HBuilderX")]),n._v(" "),e("p",[n._v("Vue 3")]),n._v(" "),e("p",[n._v("TypeScript")]),n._v(" "),e("p",[n._v("sass（sass-loader 版本 ≤ 10.1.1）")]),n._v(" "),e("p",[n._v("node（12.13.0 ≤ node 版本 ≤ 17.0.0, 推荐使用 Node.js 官方 LTS 版本 16.17.0）")]),n._v(" "),e("p",[n._v("npm（版本请与 node 版本匹配）")])])])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"h-blocks"},[t("div",{staticClass:"h-title"},[this._v("2.创建项目 （已有项目可忽略）")]),this._v(" "),t("div",{staticClass:"hb-a"},[t("p",[t("img",{attrs:{src:e("3gbn"),width:"1000"}})])])])},function(){var n=this.$createElement,t=this._self._c||n;return t("p",[t("strong",[this._v("分包集成：")])])},function(){var n=this.$createElement,t=this._self._c||n;return t("pre",[this._v("                        "),t("code",[this._v("\n                            # macOS\n                            npm i @tencentcloud/chat-uikit-uniapp\n                            ----------------------------------------------\n                            mkdir -p ./TUIKit && cp -r ./node_modules/@tencentcloud/chat-uikit-uniapp/ ./TUIKit && mv ./TUIKit/debug ./debug\n                            ----------------------------------------------\n                            # windows\n                            npm i @tencentcloud/chat-uikit-uniapp\n                            ----------------------------------------------\n                            xcopy .\\node_modules\\@tencentcloud\\chat-uikit-uniapp .\\TUIKit /i /e\n                            ----------------------------------------------\n                            move .\\TUIKit\\debug .\\debug\n                        ")]),this._v("\n                    ")])},function(){var n=this.$createElement,t=this._self._c||n;return t("pre",[this._v("                        "),t("code",[this._v('\n                            import { genTestUserSig, aegisID } from "./pages/TUIKit/debug/index.js";\n                            import { TIM, TIMUploadPlugin, Aegis } from \'./pages/TUIKit/debug/tim.js\';\n                            const aegis = new Aegis({\n                                id: aegisID, // 项目key\n                                reportApiSpeed: true, // 接口测速\n                            });\n                            uni.$aegis = aegis;\n\n                            const config = {\n                                userID: "", //User ID\n                                SDKAppID: 0, // Your SDKAppID\n                                secretKey: "", // Your secretKey\n                            };\n                            uni.$chat_SDKAppID = config.SDKAppID;\n                            const userSig = genTestUserSig(config).userSig;\n                            // 创建 sdk 实例\n                            uni.$TUIKit = TIM.create({\n                                SDKAppID: uni.$chat_SDKAppID,\n                            });\n                            uni.$TIM = TIM;\n                            // 注册文件上传插件\n                            // #ifdef MP-WEIXIN || H5\n                            uni.$TUIKit.registerPlugin({\n                                "tim-upload-plugin": TIMUploadPlugin,\n                            });\n                            // #endif\n                            // #ifdef APP-PLUS\n                            uni.$TUIKit.registerPlugin({\n                                "cos-wx-sdk": TIMUploadPlugin,\n                            });\n                            // #endif\n                            export default {\n                                onLaunch: function () {\n                                    this.bindTIMEvent();\n                                    this.login();\n                                },\n                                methods: {\n                                    login() {\n                                        // login TUIKit\n                                        uni.$TUIKit.login({ userID: config.userID, userSig }).then((res) => {\n                                            // sdk 初始化，当 sdk 处于ready 状态，才可以使用API，文档\n                                            uni.showLoading({\n                                                title: "初始化...",\n                                            });\n                                        });\n                                    },\n                                    bindTIMEvent() {\n                                        uni.$TUIKit.on(uni.$TIM.EVENT.SDK_READY, this.handleSDKReady);\n                                        uni.$TUIKit.on(uni.$TIM.EVENT.SDK_NOT_READY,this.handleSDKNotReady);\n                                        uni.$TUIKit.on(uni.$TIM.EVENT.KICKED_OUT, this.handleKickedOut);\n                                    },\n                                    // sdk ready 以后可调用 API\n                                    handleSDKReady(event) {\n                                        uni.setStorageSync(\'$chat_SDKReady\', true);\n                                        uni.hideLoading();\n                                    },\n                                    handleSDKNotReady(event) {\n                                        uni.showToast({\n                                            title: "SDK 未完成初始化",\n                                        });\n                                    },\n\n                                    handleKickedOut(event) {\n                                        uni.clearStorageSync();\n                                        uni.showToast({\n                                            title: `${this.kickedOutReason(event.data.type)}被踢出，请重新登录。`,\n                                            icon: "none",\n                                        });\n                                    },\n\n                                    kickedOutReason(type) {\n                                        switch (type) {\n                                            case uni.$TIM.TYPES.KICKED_OUT_MULT_ACCOUNT:\n                                                return "由于多实例登录";\n                                            case uni.$TIM.TYPES.KICKED_OUT_MULT_DEVICE:\n                                                return "由于多设备登录";\n                                            case uni.$TIM.TYPES.KICKED_OUT_USERSIG_EXPIRED:\n                                                return "由于 userSig 过期";\n                                            case uni.$TIM.TYPES.KICKED_OUT_REST_API:\n                                                return "由于 REST API kick 接口踢出";\n                                            default:\n                                                return "";\n                                        }\n                                    },\n                                },\n                            };\n\n                        ')]),this._v("\n                    ")])},function(){var n=this.$createElement,t=this._self._c||n;return t("pre",[this._v("                        "),t("code",[this._v('\n                            {\n                              "pages": [\n                                {\n                                  "path": "pages/index/index" // 自己项目首页\n                                }\n                              ],\n                              "subPackages": [\n                                {\n                                  "root": "TUIKit",\n                                  "pages": [\n                                    {\n                                      "path": "TUIPages/TUIConversation/index",\n                                      "style": {\n                                        "navigationBarTitleText": "云通信 IM",\n                                      }\n                                    },\n                                    {\n                                      "path": "TUIPages/TUIConversation/create",\n                                      "style": {\n                                        "navigationBarTitleText": "选择联系人",\n                                        "app-plus": {\n                                          "scrollIndicator": "none"\n                                        }\n                                      }\n                                    },\n                                    {\n                                      "path": "TUIPages/TUIChat/index",\n                                      "style": {\n                                        "navigationBarTitleText": "云通信 IM",\n                                        "app-plus": {\n                                          "scrollIndicator": "none", //当前页面不显示滚动条\n                                          "softinputNavBar": "none", // App平台在iOS上，webview中的软键盘弹出时，默认在软键盘上方有一个横条，显示着：上一项、下一项和完成等按钮\n                                          "bounce": "none", // 页面回弹\n                                        }\n                                      }\n                                    },\n                                    {\n                                      "path": "TUIPages/TUIChat/components/message-elements/video-play",\n                                      "style": {\n                                        "navigationBarTitleText": "云通信 IM",\n                                        "app-plus": {}\n                                      }\n                                    },\n                                    {\n                                      "path": "TUIPages/TUIGroup/index",\n                                      "style": {\n                                        "navigationBarTitleText": "群管理",\n                                        "app-plus": {\n                                          "scrollIndicator": "none"\n                                        }\n                                      }\n                                    },\n                                    {\n                                      "path": "TUIPages/TUIGroup/memberOperate",\n                                    }\n                                  ]\n                                }\n                              ],\n                                "globalStyle": {\n                                    "navigationBarTextStyle": "black",\n                                    "navigationBarTitleText": "uni-app",\n                                    "navigationBarBackgroundColor": "#F8F8F8",\n                                    "backgroundColor": "#F8F8F8"\n                                  }\n                                }\n                        ')]),this._v("\n                    ")])},function(){var n=this.$createElement,t=this._self._c||n;return t("p",[t("img",{attrs:{src:e("WTr6")}})])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"h-blocks"},[t("div",{staticClass:"h-title"},[this._v("4.小程序管理后台配置")]),this._v(" "),t("div",{staticClass:"hb-a"},[t("p",[t("img",{attrs:{src:e("BYE8"),width:"1000"}})])])])}]};var a=function(n){e("s2v/")},r=e("VU/8")(i.a,s,!1,a,"data-v-53bcfe18",null);t.default=r.exports},Tzhe:function(n,t,e){n.exports=e.p+"static/img/tim.964e232.png"},WTr6:function(n,t,e){n.exports=e.p+"static/img/tim3.5272930.png"},XBR5:function(n,t,e){"use strict";(function(n){t.a={name:"wltxtlinkhref",data:function(){return{}},mounted:function(){this.doCode()},methods:{doCode:function(){n(".view-code-btn").click(function(){n(this).parent().find(".hb-code").slideToggle()})}},components:{}}}).call(t,e("7t+N"))},"s2v/":function(n,t){}});
//# sourceMappingURL=2.960d5259921d29b25890.js.map