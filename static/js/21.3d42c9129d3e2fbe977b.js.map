{"version":3,"sources":["webpack:///src/components/others/CommonCode.vue","webpack:///./src/components/others/CommonCode.vue?2458","webpack:///./src/components/others/CommonCode.vue"],"names":["others_CommonCode","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","_m","staticRenderFns","Component","__webpack_require__","normalizeComponent","data","mounted","getArray","id","i","children","methods","components","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.3d42c9129d3e2fbe977b.js","sourcesContent":["<template>\n    <div class=\"ccode\">\n        <div class=\"h-headtitle\">常用javascript方法</div>\n        <div class=\"h-blocks\">\n            <div class=\"h-title\">精确计算加减乘除</div>\n            <div class=\"h-main martop0\">\n                <div v-highlight>\n                    <pre>\n                        <code>\n                            /**\n                             * 加法\n                             * @param arg1\n                             * @param arg2\n                            */\n                            function addition(arg1,arg2){\n                              let r1,r2,m;\n                              try{r1=arg1.toString().split(\".\")[1].length}catch(e){r1=0};\n                              try{r2=arg2.toString().split(\".\")[1].length}catch(e){r2=0};\n                              m=Math.pow(10,Math.max(r1,r2));\n                              return (arg1*m+arg2*m)/m;\n                            }\n\n                            /**\n                            * 减法\n                            * @param arg1\n                            * @param arg2\n                            */\n                            function subtraction(arg1,arg2){\n                              let r1,r2,m,n;\n                              try{r1=arg1.toString().split(\".\")[1].length;}catch(e){r1=0;}\n                              try{r2=arg2.toString().split(\".\")[1].length;}catch(e){r2=0;}\n                              m=Math.pow(10,Math.max(r1,r2));\n                              //动态控制精度长度\n                              n=(r1>=r2)?r1:r2;\n                              return ((arg1*m-arg2*m)/m).toFixed(n);\n                            }\n                            /***\n                            * 乘法，获取精确乘法的结果值\n                            * @param arg1\n                            * @param arg2\n                            */\n                            function multiplication(arg1,arg2){\n                              let m=0,s1=arg1.toString(),s2=arg2.toString();\n                              try{m+=s1.split(\".\")[1].length}catch(e){};\n                              try{m+=s2.split(\".\")[1].length}catch(e){};\n                              return Number(s1.replace(\".\",\"\"))*Number(s2.replace(\".\",\"\"))/Math.pow(10,m);\n                            }\n                            /***\n                            * 除法，获取精确乘法的结果值\n                            * @param arg1\n                            * @param arg2\n                            */\n                            function division(arg1,arg2){\n                              let t1=0,t2=0,r1,r2;\n                              try{t1=arg1.toString().split(\".\")[1].length}catch(e){}\n                              try{t2=arg2.toString().split(\".\")[1].length}catch(e){}\n                              r1=Number(arg1.toString().replace(\".\",\"\"));\n                              r2=Number(arg2.toString().replace(\".\",\"\"));\n                              return (r1/r2)*Math.pow(10,t2-t1);\n                            }\n                        </code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"h-blocks\">\n            <div class=\"h-title\">url参数格式化</div>\n            <div class=\"h-main martop0\">\n                <div v-highlight>\n                    <pre>\n                        <code>\n                            /*url参数格式化\n                            * 如：www.xxx.com?id=1&age=20\n                            * 返回：{id:1,age:20}\n                            * */\n                            paramsFormat(url) {\n                                let qInd = url.indexOf(\"?\");\n                                let sharpInd = url.indexOf(\"#\"); //路由\n                                let search = \"\";\n                                let paramsList = [];\n                                let paramsObj = {};\n                                if (qInd >= 0) {\n                                    if (sharpInd > 0) {\n                                        search = url.substring(qInd + 1, sharpInd);\n                                    } else {\n                                        search = url.substring(qInd + 1);\n                                    }\n                                    //from跳转链接，不需要解析其他参数\n                                    let reg = /\\?(from(?:url)?)=(.*\\.html)/i;\n                                    if (reg.test(search)) {\n                                        let matches = search.match(reg);\n                                        paramsObj[matches[1]] = matches[2];\n                                    } else {\n                                        paramsList = search.split(\"&\");\n                                        for (var ind = 0; ind < paramsList.length; ind++) {\n                                            var param = paramsList[ind];\n                                            if (param) {\n                                                var pind = param.indexOf(\"=\");\n                                                if (pind >= 0) {\n                                                    let key = param.substring(0, pind);\n                                                    let value = param.substr(pind + 1);\n                                                    if (value == 'undefined' || value == 'null') value = null;//过滤字符串，否则接口报错\n                                                    paramsObj[key] = value;\n                                                } else {\n                                                    paramsObj[param] = \"\";\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                                return paramsObj;\n                            }\n                        </code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n        <div class=\"h-blocks\">\n            <div class=\"h-title\">对象转成url地址格式</div>\n            <div class=\"h-main martop0\">\n                <div v-highlight>\n                    <pre>\n                        <code>\n                            /*对象转成url地址格式\n                            * 如：{id:1,age:20}\n                            * 返回：www.xxx.com?id=1&age=20\n                            * */\n                            jsonToParamsFormat(d) {\n                                let urls = '';\n                                if (!d) {\n                                    return;\n                                }\n                                for (let key in d) {\n                                    urls += `&${key}=${d[key]}`\n                                }\n                                let nUrls = '?' + urls.slice(1);  //去掉第一个&符号\n                                return nUrls;\n                            }\n                        </code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n        <div class=\"h-blocks\">\n            <div class=\"h-title\">对url里的参数删除指定某个参数</div>\n            <div class=\"h-main martop0\">\n                <div v-highlight>\n                    <pre>\n                        <code>\n                            /*\n                            * 如www.xxx.com/index?id=1&age=20，删除age\n                            * 返回 www.xxx.com?id=1\n                            *\n                            * url,字符串\n                            * paramArr 数组\n                            * */\n                            getNewUrls(url, paramArr) {\n                                let rPath = '';\n                                if (paramArr.length <= 0) {\n                                    return;\n                                }\n                                let getParamArr = this.paramsFormat(url);   //获取url所以对象数据\n                                let getPathSliceIndex = url.indexOf('?');   //获取？的序号\n                                let getPathSliceTxt = url.slice(0, getPathSliceIndex);\n                                for (let i = 0; i < paramArr.length; i++) {\n                                    delete getParamArr[paramArr[i]]\n                                }\n                                let paramUrlTxt = this.jsonToParamsFormat(getParamArr);\n                                rPath = getPathSliceTxt + paramUrlTxt\n                                return rPath;\n\n                            }\n                        </code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n        <div class=\"h-blocks\">\n            <div class=\"h-title\">实现将本地资源图片转化成base64</div>\n            <div class=\"h-main martop0\">\n                <div v-highlight>\n                    <pre>\n                        <code>\n                            function convertImgToBase64(url, callback, outputFormat) {\n                                let canvas = document.createElement('CANVAS'),\n                                    ctx = canvas.getContext('2d'),\n                                    img = new Image;\n                                img.crossOrigin = 'Anonymous';\n                                img.onload = function () {\n                                    canvas.height = img.height;\n                                    canvas.width = img.width;\n                                    ctx.drawImage(img, 0, 0);\n                                    var dataURL = canvas.toDataURL(outputFormat || 'image/png');\n                                    callback.call(this, dataURL);\n                                    canvas = null;\n                                };\n                                //console.log(url);\n                                img.src = url;\n                            },\n                        </code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n        <div class=\"h-blocks\">\n            <div class=\"h-title\">日期时间转时间戳</div>\n            <div class=\"h-main martop0\">\n                <div v-highlight>\n                    <pre>\n                        <code>\n                            //时间--时间戳 2012-01-12 12:12:12  to  1514514514515\n                            time2timestamp(dateTime) {\n                                if (dateTime) {\n                                    return new Date(dateTime.replace(/-/g, '/')).getTime();\n                                }\n                            },\n                        </code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n        <div class=\"h-blocks\">\n            <div class=\"h-title\">时间戳转换成时间</div>\n            <div class=\"h-main martop0\">\n                <div v-highlight>\n                    <pre>\n                        <code>\n                            function timestamp2Time(stamp) {\n                                if (stamp) {\n                                    let date = new Date(stamp);\n                                    let y = date.getFullYear();\n                                    let m = (date.getMonth() + 1) < 10 ? \"0\" + (date.getMonth() + 1) : (date.getMonth() + 1);\n                                    let d = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\n                                    let hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\n                                    let mins = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n                                    let seconds = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\n                                    return y + \"-\" + m + '-' + d + ' ' + hour + ':' + mins + ':' + seconds;\n                                }\n                            },\n                        </code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n        <div class=\"h-blocks\">\n            <div class=\"h-title\">时间对象转换成时间</div>\n            <div class=\"h-main martop0\">\n                <div v-highlight>\n                    <pre>\n                        <code>\n                            //new Date() to  2012-01-12 12:12:12\n                            function timeObj2Time(stamp) {\n                                if (stamp) {\n                                    let dObj = stamp.getTime();\n                                    let date = new Date(dObj);\n                                    let y = date.getFullYear();\n                                    let m = (date.getMonth() + 1) < 10 ? \"0\" + (date.getMonth() + 1) : (date.getMonth() + 1);\n                                    let d = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\n                                    let hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\n                                    let mins = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n                                    let seconds = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\n                                    return y + \"-\" + m + '-' + d + ' ' + hour + ':' + mins + ':' + seconds;\n                                }\n                            },\n                        </code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n        <div class=\"h-blocks\">\n            <div class=\"h-title\">判断小程序环境</div>\n            <div class=\"h-main martop0\">\n                <div v-highlight>\n                    <pre>\n                        <code>\n                            isWeChatMiniApp() {\n                                let ua = window.navigator.userAgent.toLowerCase();\n                                return new Promise((resolve) => {\n                                    if (ua.indexOf('micromessenger') == -1) {\n                                        //console.log(\"不在微信或者小程序中\")\n                                        resolve(false);\n                                    } else {\n                                        wx.miniProgram.getEnv((res) => {\n                                            if (res.miniprogram) {\n                                                //console.log(\"在小程序中\")\n                                                resolve(true);\n                                            } else {//在微信中\n                                                //console.log(\"在微信中\")\n                                                resolve(false);\n                                            }\n                                        });\n                                    }\n                                });\n                            },\n                        </code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n        <div class=\"h-blocks\">\n            <div class=\"h-title\">递归算法-遍历</div>\n            <div class=\"h-main martop0\">\n                <div v-highlight>\n                    <pre>\n                        <code>\n                            let arr = [\n                                    {\n                                        id:'1',\n                                        name:'n1',\n                                        children:[\n                                            {\n                                                id:'1-1',\n                                                name:'n1-1',\n                                                children:[]\n                                            },\n                                            {\n                                                id:'1-2',\n                                                name:'n1-2',\n                                                children:[]\n                                            }\n                                        ]\n                                    },\n                                    {\n                                        id:'2',\n                                        name:'n2',\n                                        children:[\n                                            {\n                                                id:'2-1',\n                                                name:'n2-1',\n                                                children:[\n                                                    {\n                                                        id:'2-1-1',\n                                                        name:'n2-1-1',\n                                                        children:[]\n                                                    }\n                                                ]\n                                            },\n                                        ]\n                                    },\n                                    {\n                                        id:'3',\n                                        name:'n3',\n                                        children:[]\n                                    }\n                                ];\n\n                                let getArray = (data,id)=>{\n                                    for (let i in data) {\n                                        if (data[i].id == id) {\n                                            //console.log('找到了');\n                                            break;\n                                        } else {\n                                            //console.log('继续找');\n                                            getArray(data[i].children, id);\n                                        }\n                                    }\n                                };\n                                getArray(arr,'2-1');\n                        </code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n        <div class=\"h-blocks\">\n            <div class=\"h-title\">获取视频第一帧图片</div>\n            <div class=\"h-main martop0\">\n                <div v-highlight>\n                    <pre>\n                        <code>\n                        chooseVideoGetFirstFrameImg(e,obj) {\n                            let self = this;\n                            //逻辑判断，防止少传\n                            if(Object.keys(arguments[1]).length < 3){\n                                console.log('缺少参数');\n                                return;\n                            }\n                            if(!obj.videoDivId){\n                                console.log('请传videoDivId');\n                                return;\n                            }\n                            if(!obj.picWidth){\n                                console.log('请传picWidth');\n                                return;\n                            }\n                            if(!obj.picHei){\n                                console.log('请传picHei');\n                                return;\n                            }\n                            let files = e.target.files[0];//获取文件\n                            let blob = new Blob([files]); // 文件转化成二进制文件\n                            let url = URL.createObjectURL(blob); //转化成url\n                            let parent = document.getElementById(obj.videoDivId);\n                            let div = document.createElement(\"div\");\n                            div.setAttribute(\"class\", \"newDivVideo\");\n                            parent.appendChild(div);\n                            document.querySelector('.newDivVideo').innerHTML = '&lt;video controls src=\"'+url+'\" id=\"videoId\" width=\"100%\" height=\"100%\" autoplay&gt;&lt;/video&gt;';\n                            let videoElement = document.querySelector('#videoId');\n                            videoElement.addEventListener(\"canplay\", function() {\n                                let canvas = document.createElement(\"canvas\");\n                                canvas.width = obj.picWidth;\n                                canvas.height = obj.picHei;\n                                canvas.getContext(\"2d\").drawImage(videoElement, 0, 0, canvas.width, canvas.height);\n                                let outImgUrl = canvas.toDataURL(\"image/png\");\n                                console.log(outImgUrl); //第一帧图片url\n                            })\n                        }\n                        </code>\n                    </pre>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'common-code',\n        data() {\n            return {\n\n            }\n        },\n        mounted(){\n            let arr = [\n                {\n                    id:'1',\n                    name:'n1',\n                    children:[\n                        {\n                            id:'1-1',\n                            name:'n1-1',\n                            children:[]\n                        },\n                        {\n                            id:'1-2',\n                            name:'n1-2',\n                            children:[]\n                        }\n                    ]\n                },\n                {\n                    id:'2',\n                    name:'n2',\n                    children:[\n                        {\n                            id:'2-1',\n                            name:'n2-1',\n                            children:[\n                                {\n                                    id:'2-1-1',\n                                    name:'n2-1-1',\n                                    children:[]\n                                }\n                            ]\n                        },\n                    ]\n                },\n                {\n                    id:'3',\n                    name:'n3',\n                    children:[]\n                }\n            ];\n\n            let getArray = (data,id)=>{\n                for (let i in data) {\n                    if (data[i].id == id) {\n                        //console.log('找到了');\n                        break;\n                    } else {\n                        //console.log('继续找');\n                        getArray(data[i].children, id);\n                    }\n                }\n            };\n            getArray(arr,'2-1');\n        },\n        methods:{\n\n        },\n        components:{\n\n        }\n    }\n</script>\n<style scoped>\n    .martop0{margin-top:0px;}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/others/CommonCode.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ccode\"},[_c('div',{staticClass:\"h-headtitle\"},[_vm._v(\"常用javascript方法\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-blocks\"},[_c('div',{staticClass:\"h-title\"},[_vm._v(\"精确计算加减乘除\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-main martop0\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_vm._m(0)])])]),_vm._v(\" \"),_c('div',{staticClass:\"h-blocks\"},[_c('div',{staticClass:\"h-title\"},[_vm._v(\"url参数格式化\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-main martop0\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_vm._m(1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"h-blocks\"},[_c('div',{staticClass:\"h-title\"},[_vm._v(\"对象转成url地址格式\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-main martop0\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_vm._m(2)])])]),_vm._v(\" \"),_c('div',{staticClass:\"h-blocks\"},[_c('div',{staticClass:\"h-title\"},[_vm._v(\"对url里的参数删除指定某个参数\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-main martop0\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_vm._m(3)])])]),_vm._v(\" \"),_c('div',{staticClass:\"h-blocks\"},[_c('div',{staticClass:\"h-title\"},[_vm._v(\"实现将本地资源图片转化成base64\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-main martop0\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_vm._m(4)])])]),_vm._v(\" \"),_c('div',{staticClass:\"h-blocks\"},[_c('div',{staticClass:\"h-title\"},[_vm._v(\"日期时间转时间戳\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-main martop0\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_vm._m(5)])])]),_vm._v(\" \"),_c('div',{staticClass:\"h-blocks\"},[_c('div',{staticClass:\"h-title\"},[_vm._v(\"时间戳转换成时间\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-main martop0\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_vm._m(6)])])]),_vm._v(\" \"),_c('div',{staticClass:\"h-blocks\"},[_c('div',{staticClass:\"h-title\"},[_vm._v(\"时间对象转换成时间\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-main martop0\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_vm._m(7)])])]),_vm._v(\" \"),_c('div',{staticClass:\"h-blocks\"},[_c('div',{staticClass:\"h-title\"},[_vm._v(\"判断小程序环境\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-main martop0\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_vm._m(8)])])]),_vm._v(\" \"),_c('div',{staticClass:\"h-blocks\"},[_c('div',{staticClass:\"h-title\"},[_vm._v(\"递归算法-遍历\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-main martop0\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_vm._m(9)])])]),_vm._v(\" \"),_c('div',{staticClass:\"h-blocks\"},[_c('div',{staticClass:\"h-title\"},[_vm._v(\"获取视频第一帧图片\")]),_vm._v(\" \"),_c('div',{staticClass:\"h-main martop0\"},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}]},[_vm._m(10)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',[_vm._v(\"                    \"),_c('code',[_vm._v(\"\\n                        /**\\n                         * 加法\\n                         * @param arg1\\n                         * @param arg2\\n                        */\\n                        function addition(arg1,arg2){\\n                          let r1,r2,m;\\n                          try{r1=arg1.toString().split(\\\".\\\")[1].length}catch(e){r1=0};\\n                          try{r2=arg2.toString().split(\\\".\\\")[1].length}catch(e){r2=0};\\n                          m=Math.pow(10,Math.max(r1,r2));\\n                          return (arg1*m+arg2*m)/m;\\n                        }\\n\\n                        /**\\n                        * 减法\\n                        * @param arg1\\n                        * @param arg2\\n                        */\\n                        function subtraction(arg1,arg2){\\n                          let r1,r2,m,n;\\n                          try{r1=arg1.toString().split(\\\".\\\")[1].length;}catch(e){r1=0;}\\n                          try{r2=arg2.toString().split(\\\".\\\")[1].length;}catch(e){r2=0;}\\n                          m=Math.pow(10,Math.max(r1,r2));\\n                          //动态控制精度长度\\n                          n=(r1>=r2)?r1:r2;\\n                          return ((arg1*m-arg2*m)/m).toFixed(n);\\n                        }\\n                        /***\\n                        * 乘法，获取精确乘法的结果值\\n                        * @param arg1\\n                        * @param arg2\\n                        */\\n                        function multiplication(arg1,arg2){\\n                          let m=0,s1=arg1.toString(),s2=arg2.toString();\\n                          try{m+=s1.split(\\\".\\\")[1].length}catch(e){};\\n                          try{m+=s2.split(\\\".\\\")[1].length}catch(e){};\\n                          return Number(s1.replace(\\\".\\\",\\\"\\\"))*Number(s2.replace(\\\".\\\",\\\"\\\"))/Math.pow(10,m);\\n                        }\\n                        /***\\n                        * 除法，获取精确乘法的结果值\\n                        * @param arg1\\n                        * @param arg2\\n                        */\\n                        function division(arg1,arg2){\\n                          let t1=0,t2=0,r1,r2;\\n                          try{t1=arg1.toString().split(\\\".\\\")[1].length}catch(e){}\\n                          try{t2=arg2.toString().split(\\\".\\\")[1].length}catch(e){}\\n                          r1=Number(arg1.toString().replace(\\\".\\\",\\\"\\\"));\\n                          r2=Number(arg2.toString().replace(\\\".\\\",\\\"\\\"));\\n                          return (r1/r2)*Math.pow(10,t2-t1);\\n                        }\\n                    \")]),_vm._v(\"\\n                \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',[_vm._v(\"                    \"),_c('code',[_vm._v(\"\\n                        /*url参数格式化\\n                        * 如：www.xxx.com?id=1&age=20\\n                        * 返回：{id:1,age:20}\\n                        * */\\n                        paramsFormat(url) {\\n                            let qInd = url.indexOf(\\\"?\\\");\\n                            let sharpInd = url.indexOf(\\\"#\\\"); //路由\\n                            let search = \\\"\\\";\\n                            let paramsList = [];\\n                            let paramsObj = {};\\n                            if (qInd >= 0) {\\n                                if (sharpInd > 0) {\\n                                    search = url.substring(qInd + 1, sharpInd);\\n                                } else {\\n                                    search = url.substring(qInd + 1);\\n                                }\\n                                //from跳转链接，不需要解析其他参数\\n                                let reg = /\\\\?(from(?:url)?)=(.*\\\\.html)/i;\\n                                if (reg.test(search)) {\\n                                    let matches = search.match(reg);\\n                                    paramsObj[matches[1]] = matches[2];\\n                                } else {\\n                                    paramsList = search.split(\\\"&\\\");\\n                                    for (var ind = 0; ind < paramsList.length; ind++) {\\n                                        var param = paramsList[ind];\\n                                        if (param) {\\n                                            var pind = param.indexOf(\\\"=\\\");\\n                                            if (pind >= 0) {\\n                                                let key = param.substring(0, pind);\\n                                                let value = param.substr(pind + 1);\\n                                                if (value == 'undefined' || value == 'null') value = null;//过滤字符串，否则接口报错\\n                                                paramsObj[key] = value;\\n                                            } else {\\n                                                paramsObj[param] = \\\"\\\";\\n                                            }\\n                                        }\\n                                    }\\n                                }\\n                            }\\n                            return paramsObj;\\n                        }\\n                    \")]),_vm._v(\"\\n                \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',[_vm._v(\"                    \"),_c('code',[_vm._v(\"\\n                        /*对象转成url地址格式\\n                        * 如：{id:1,age:20}\\n                        * 返回：www.xxx.com?id=1&age=20\\n                        * */\\n                        jsonToParamsFormat(d) {\\n                            let urls = '';\\n                            if (!d) {\\n                                return;\\n                            }\\n                            for (let key in d) {\\n                                urls += `&${key}=${d[key]}`\\n                            }\\n                            let nUrls = '?' + urls.slice(1);  //去掉第一个&符号\\n                            return nUrls;\\n                        }\\n                    \")]),_vm._v(\"\\n                \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',[_vm._v(\"                    \"),_c('code',[_vm._v(\"\\n                        /*\\n                        * 如www.xxx.com/index?id=1&age=20，删除age\\n                        * 返回 www.xxx.com?id=1\\n                        *\\n                        * url,字符串\\n                        * paramArr 数组\\n                        * */\\n                        getNewUrls(url, paramArr) {\\n                            let rPath = '';\\n                            if (paramArr.length <= 0) {\\n                                return;\\n                            }\\n                            let getParamArr = this.paramsFormat(url);   //获取url所以对象数据\\n                            let getPathSliceIndex = url.indexOf('?');   //获取？的序号\\n                            let getPathSliceTxt = url.slice(0, getPathSliceIndex);\\n                            for (let i = 0; i < paramArr.length; i++) {\\n                                delete getParamArr[paramArr[i]]\\n                            }\\n                            let paramUrlTxt = this.jsonToParamsFormat(getParamArr);\\n                            rPath = getPathSliceTxt + paramUrlTxt\\n                            return rPath;\\n\\n                        }\\n                    \")]),_vm._v(\"\\n                \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',[_vm._v(\"                    \"),_c('code',[_vm._v(\"\\n                        function convertImgToBase64(url, callback, outputFormat) {\\n                            let canvas = document.createElement('CANVAS'),\\n                                ctx = canvas.getContext('2d'),\\n                                img = new Image;\\n                            img.crossOrigin = 'Anonymous';\\n                            img.onload = function () {\\n                                canvas.height = img.height;\\n                                canvas.width = img.width;\\n                                ctx.drawImage(img, 0, 0);\\n                                var dataURL = canvas.toDataURL(outputFormat || 'image/png');\\n                                callback.call(this, dataURL);\\n                                canvas = null;\\n                            };\\n                            //console.log(url);\\n                            img.src = url;\\n                        },\\n                    \")]),_vm._v(\"\\n                \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',[_vm._v(\"                    \"),_c('code',[_vm._v(\"\\n                        //时间--时间戳 2012-01-12 12:12:12  to  1514514514515\\n                        time2timestamp(dateTime) {\\n                            if (dateTime) {\\n                                return new Date(dateTime.replace(/-/g, '/')).getTime();\\n                            }\\n                        },\\n                    \")]),_vm._v(\"\\n                \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',[_vm._v(\"                    \"),_c('code',[_vm._v(\"\\n                        function timestamp2Time(stamp) {\\n                            if (stamp) {\\n                                let date = new Date(stamp);\\n                                let y = date.getFullYear();\\n                                let m = (date.getMonth() + 1) < 10 ? \\\"0\\\" + (date.getMonth() + 1) : (date.getMonth() + 1);\\n                                let d = date.getDate() < 10 ? \\\"0\\\" + date.getDate() : date.getDate();\\n                                let hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\\n                                let mins = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\\n                                let seconds = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\\n                                return y + \\\"-\\\" + m + '-' + d + ' ' + hour + ':' + mins + ':' + seconds;\\n                            }\\n                        },\\n                    \")]),_vm._v(\"\\n                \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',[_vm._v(\"                    \"),_c('code',[_vm._v(\"\\n                        //new Date() to  2012-01-12 12:12:12\\n                        function timeObj2Time(stamp) {\\n                            if (stamp) {\\n                                let dObj = stamp.getTime();\\n                                let date = new Date(dObj);\\n                                let y = date.getFullYear();\\n                                let m = (date.getMonth() + 1) < 10 ? \\\"0\\\" + (date.getMonth() + 1) : (date.getMonth() + 1);\\n                                let d = date.getDate() < 10 ? \\\"0\\\" + date.getDate() : date.getDate();\\n                                let hour = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();\\n                                let mins = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\\n                                let seconds = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\\n                                return y + \\\"-\\\" + m + '-' + d + ' ' + hour + ':' + mins + ':' + seconds;\\n                            }\\n                        },\\n                    \")]),_vm._v(\"\\n                \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',[_vm._v(\"                    \"),_c('code',[_vm._v(\"\\n                        isWeChatMiniApp() {\\n                            let ua = window.navigator.userAgent.toLowerCase();\\n                            return new Promise((resolve) => {\\n                                if (ua.indexOf('micromessenger') == -1) {\\n                                    //console.log(\\\"不在微信或者小程序中\\\")\\n                                    resolve(false);\\n                                } else {\\n                                    wx.miniProgram.getEnv((res) => {\\n                                        if (res.miniprogram) {\\n                                            //console.log(\\\"在小程序中\\\")\\n                                            resolve(true);\\n                                        } else {//在微信中\\n                                            //console.log(\\\"在微信中\\\")\\n                                            resolve(false);\\n                                        }\\n                                    });\\n                                }\\n                            });\\n                        },\\n                    \")]),_vm._v(\"\\n                \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',[_vm._v(\"                    \"),_c('code',[_vm._v(\"\\n                        let arr = [\\n                                {\\n                                    id:'1',\\n                                    name:'n1',\\n                                    children:[\\n                                        {\\n                                            id:'1-1',\\n                                            name:'n1-1',\\n                                            children:[]\\n                                        },\\n                                        {\\n                                            id:'1-2',\\n                                            name:'n1-2',\\n                                            children:[]\\n                                        }\\n                                    ]\\n                                },\\n                                {\\n                                    id:'2',\\n                                    name:'n2',\\n                                    children:[\\n                                        {\\n                                            id:'2-1',\\n                                            name:'n2-1',\\n                                            children:[\\n                                                {\\n                                                    id:'2-1-1',\\n                                                    name:'n2-1-1',\\n                                                    children:[]\\n                                                }\\n                                            ]\\n                                        },\\n                                    ]\\n                                },\\n                                {\\n                                    id:'3',\\n                                    name:'n3',\\n                                    children:[]\\n                                }\\n                            ];\\n\\n                            let getArray = (data,id)=>{\\n                                for (let i in data) {\\n                                    if (data[i].id == id) {\\n                                        //console.log('找到了');\\n                                        break;\\n                                    } else {\\n                                        //console.log('继续找');\\n                                        getArray(data[i].children, id);\\n                                    }\\n                                }\\n                            };\\n                            getArray(arr,'2-1');\\n                    \")]),_vm._v(\"\\n                \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',[_vm._v(\"                    \"),_c('code',[_vm._v(\"\\n                    chooseVideoGetFirstFrameImg(e,obj) {\\n                        let self = this;\\n                        //逻辑判断，防止少传\\n                        if(Object.keys(arguments[1]).length < 3){\\n                            console.log('缺少参数');\\n                            return;\\n                        }\\n                        if(!obj.videoDivId){\\n                            console.log('请传videoDivId');\\n                            return;\\n                        }\\n                        if(!obj.picWidth){\\n                            console.log('请传picWidth');\\n                            return;\\n                        }\\n                        if(!obj.picHei){\\n                            console.log('请传picHei');\\n                            return;\\n                        }\\n                        let files = e.target.files[0];//获取文件\\n                        let blob = new Blob([files]); // 文件转化成二进制文件\\n                        let url = URL.createObjectURL(blob); //转化成url\\n                        let parent = document.getElementById(obj.videoDivId);\\n                        let div = document.createElement(\\\"div\\\");\\n                        div.setAttribute(\\\"class\\\", \\\"newDivVideo\\\");\\n                        parent.appendChild(div);\\n                        document.querySelector('.newDivVideo').innerHTML = '<video controls src=\\\"'+url+'\\\" id=\\\"videoId\\\" width=\\\"100%\\\" height=\\\"100%\\\" autoplay></video>';\\n                        let videoElement = document.querySelector('#videoId');\\n                        videoElement.addEventListener(\\\"canplay\\\", function() {\\n                            let canvas = document.createElement(\\\"canvas\\\");\\n                            canvas.width = obj.picWidth;\\n                            canvas.height = obj.picHei;\\n                            canvas.getContext(\\\"2d\\\").drawImage(videoElement, 0, 0, canvas.width, canvas.height);\\n                            let outImgUrl = canvas.toDataURL(\\\"image/png\\\");\\n                            console.log(outImgUrl); //第一帧图片url\\n                        })\\n                    }\\n                    \")]),_vm._v(\"\\n                \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3756c110\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/others/CommonCode.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3756c110\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CommonCode.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommonCode.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommonCode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3756c110\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CommonCode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3756c110\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/others/CommonCode.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}